{"remainingRequest":"/Users/shakirov/Desktop/Fullstack/avrora/node_modules/babel-loader/lib/index.js!/Users/shakirov/Desktop/Fullstack/avrora/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/shakirov/Desktop/Fullstack/avrora/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/shakirov/Desktop/Fullstack/avrora/src/components/DivisionsCreateList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/shakirov/Desktop/Fullstack/avrora/src/components/DivisionsCreateList.vue","mtime":1649259810828},{"path":"/Users/shakirov/Desktop/Fullstack/avrora/babel.config.js","mtime":1648522801080},{"path":"/Users/shakirov/Desktop/Fullstack/avrora/node_modules/cache-loader/dist/cjs.js","mtime":1648522787455},{"path":"/Users/shakirov/Desktop/Fullstack/avrora/node_modules/babel-loader/lib/index.js","mtime":1648522787952},{"path":"/Users/shakirov/Desktop/Fullstack/avrora/node_modules/cache-loader/dist/cjs.js","mtime":1648522787455},{"path":"/Users/shakirov/Desktop/Fullstack/avrora/node_modules/vue-loader-v16/dist/index.js","mtime":1648522787725}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBEaXZpc2lvbnNDcmVhdGVJdGVtIGZyb20gIi4vRGl2aXNpb25zQ3JlYXRlSXRlbSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZGl2aXNpb25zLWNyZWF0ZS1saXN0IiwKICBjb21wb25lbnRzOiB7CiAgICBEaXZpc2lvbnNDcmVhdGVJdGVtOiBEaXZpc2lvbnNDcmVhdGVJdGVtCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNDcmVhdGU6IHRydWUsCiAgICAgIGlzU2F2ZTogZmFsc2UsCiAgICAgIGlzTWFpbjogdHJ1ZSwKICAgICAgZGl2aXNpb25zOiBbXSwKICAgICAgbmV3RGl2aXNpb25zOiB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgY291bnQ6IG51bGwsCiAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgIH0sCiAgICAgIG5ld0RpdmlzaW9uc0NoaWxkcmVuOiB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgcGFyZW50OiBudWxsLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGNvdW50OiBudWxsLAogICAgICAgIGNoaWxkcmVuOiBbXQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYWRkRGl2aXNpb25zOiBmdW5jdGlvbiBhZGREaXZpc2lvbnMoKSB7CiAgICAgIGlmICh0aGlzLm5ld0RpdmlzaW9ucy5uYW1lICYmIHRoaXMubmV3RGl2aXNpb25zLmNvdW50KSB7CiAgICAgICAgdGhpcy5uZXdEaXZpc2lvbnMuaWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKCiAgICAgICAgaWYgKHRoaXMubmV3RGl2aXNpb25zQ2hpbGRyZW4ubmFtZSkgewogICAgICAgICAgdGhpcy5uZXdEaXZpc2lvbnNDaGlsZHJlbi5jaGlsZHJlbi5wdXNoKHRoaXMubmV3RGl2aXNpb25zKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5kaXZpc2lvbnMucHVzaCh0aGlzLm5ld0RpdmlzaW9ucyk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmlzU2F2ZSA9IHRoaXMuaXNNYWluID0gdHJ1ZTsKICAgICAgICB0aGlzLmlzQ3JlYXRlID0gZmFsc2U7CiAgICAgICAgdGhpcy5uZXdEaXZpc2lvbnMgPSB7CiAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgY291bnQ6IG51bGwsCiAgICAgICAgICBjaGlsZHJlbjogW10KICAgICAgICB9OwogICAgICAgIHRoaXMubmV3RGl2aXNpb25zQ2hpbGRyZW4gPSB7CiAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgIHBhcmVudDogbnVsbCwKICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgY291bnQ6IG51bGwsCiAgICAgICAgICBjaGlsZHJlbjogW10KICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgc2V0RGl2aXNpb25zOiBmdW5jdGlvbiBzZXREaXZpc2lvbnMoKSB7CiAgICAgIHZhciBkaXZpc2lvbnMgPSB0aGlzLmRpdmlzaW9uczsKICAgICAgdGhpcy4kZW1pdCgnYWRkTmV3RGl2aXNpb25zJywgZGl2aXNpb25zKTsKICAgIH0sCiAgICBzZXREaXZpc2lvbjogZnVuY3Rpb24gc2V0RGl2aXNpb24oZXZlbnQpIHsKICAgICAgdGhpcy5pc0NyZWF0ZSA9IHRydWU7CiAgICAgIHRoaXMuaXNNYWluID0gZmFsc2U7CiAgICAgIHRoaXMubmV3RGl2aXNpb25zQ2hpbGRyZW4gPSBldmVudDsKICAgIH0sCiAgICB0b2dnbGVDcmVhdGU6IGZ1bmN0aW9uIHRvZ2dsZUNyZWF0ZSgpIHsKICAgICAgdGhpcy5pc0NyZWF0ZSA9ICF0aGlzLmlzQ3JlYXRlOwogICAgICB0aGlzLm5ld0RpdmlzaW9uc0NoaWxkcmVuID0gewogICAgICAgIGlkOiBudWxsLAogICAgICAgIHBhcmVudDogbnVsbCwKICAgICAgICBuYW1lOiAnJywKICAgICAgICBjb3VudDogbnVsbCwKICAgICAgICBjaGlsZHJlbjogW10KICAgICAgfTsKICAgICAgdGhpcy5pc01haW4gPSB0cnVlOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";AA6CA,OAAOA,mBAAP,MAAgC,uBAAhC;AAEA,eAAe;AACXC,MAAI,EAAE,uBADK;AAEXC,YAAU,EAAE;AACRF,uBAAkB,EAAlBA;AADQ,GAFD;AAKXG,MALW,kBAKJ;AACH,WAAO;AACHC,cAAQ,EAAE,IADP;AAEHC,YAAM,EAAE,KAFL;AAGHC,YAAM,EAAE,IAHL;AAIHC,eAAS,EAAE,EAJR;AAKHC,kBAAY,EAAE;AACVC,UAAE,EAAE,IADM;AAEVR,YAAI,EAAE,EAFI;AAGVS,aAAK,EAAE,IAHG;AAIVC,gBAAQ,EAAE;AAJA,OALX;AAWHC,0BAAoB,EAAE;AAClBH,UAAE,EAAE,IADc;AAElBI,cAAM,EAAE,IAFU;AAGlBZ,YAAI,EAAE,EAHY;AAIlBS,aAAK,EAAE,IAJW;AAKlBC,gBAAQ,EAAE;AALQ;AAXnB,KAAP;AAmBH,GAzBU;AA0BXG,SAAO,EAAE;AACLC,gBADK,0BACU;AACX,UAAI,KAAKP,YAAL,CAAkBP,IAAlB,IAA0B,KAAKO,YAAL,CAAkBE,KAAhD,EAAuD;AACnD,aAAKF,YAAL,CAAkBC,EAAlB,GAAuB,IAAIO,IAAJ,GAAWC,OAAX,EAAvB;;AAEA,YAAI,KAAKL,oBAAL,CAA0BX,IAA9B,EAAoC;AAChC,eAAKW,oBAAL,CAA0BD,QAA1B,CAAmCO,IAAnC,CAAwC,KAAKV,YAA7C;AACJ,SAFA,MAEO;AACH,eAAKD,SAAL,CAAeW,IAAf,CAAoB,KAAKV,YAAzB;AACJ;;AAEA,aAAKH,MAAL,GAAc,KAAKC,MAAL,GAAc,IAA5B;AACA,aAAKF,QAAL,GAAgB,KAAhB;AACA,aAAKI,YAAL,GAAoB;AAChBC,YAAE,EAAE,IADY;AAEhBR,cAAI,EAAE,EAFU;AAGhBS,eAAK,EAAE,IAHS;AAIhBC,kBAAQ,EAAE;AAJM,SAApB;AAMA,aAAKC,oBAAL,GAA4B;AACxBH,YAAE,EAAE,IADoB;AAExBI,gBAAM,EAAE,IAFgB;AAGxBZ,cAAI,EAAE,EAHkB;AAIxBS,eAAK,EAAE,IAJiB;AAKxBC,kBAAQ,EAAE;AALc,SAA5B;AAOJ;AACH,KA3BI;AA4BLQ,gBA5BK,0BA4BU;AACX,UAAIZ,SAAQ,GAAI,KAAKA,SAArB;AACA,WAAKa,KAAL,CAAW,iBAAX,EAA8Bb,SAA9B;AACH,KA/BI;AAgCLc,eAhCK,uBAgCOC,KAhCP,EAgCc;AACf,WAAKlB,QAAL,GAAgB,IAAhB;AACA,WAAKE,MAAL,GAAc,KAAd;AACA,WAAKM,oBAAL,GAA4BU,KAA5B;AACH,KApCI;AAqCLC,gBArCK,0BAqCU;AACX,WAAKnB,QAAL,GAAgB,CAAC,KAAKA,QAAtB;AACA,WAAKQ,oBAAL,GAA4B;AACxBH,UAAE,EAAE,IADoB;AAExBI,cAAM,EAAE,IAFgB;AAGxBZ,YAAI,EAAE,EAHkB;AAIxBS,aAAK,EAAE,IAJiB;AAKxBC,gBAAQ,EAAE;AALc,OAA5B;AAOA,WAAKL,MAAL,GAAc,IAAd;AACJ;AA/CK;AA1BE,CAAf","names":["DivisionsCreateItem","name","components","data","isCreate","isSave","isMain","divisions","newDivisions","id","count","children","newDivisionsChildren","parent","methods","addDivisions","Date","getTime","push","setDivisions","$emit","setDivision","event","toggleCreate"],"sourceRoot":"","sources":["/Users/shakirov/Desktop/Fullstack/avrora/src/components/DivisionsCreateList.vue"],"sourcesContent":["<template>\n    <div class=\"create\">\n        <li class=\"create__divisions\">\n            <ul class=\"create__head\">\n                <li></li>\n                <li>Фактическое количество</li>\n                <li>Действие</li>\n            </ul>\n            <divisions-create-item\n                v-for=\"division in divisions\"\n                :division=\"division\"\n                :level=\"0\"\n                @setDivision=\"setDivision\"\n            />\n        </li>\n        <div v-if=\"isCreate\">\n            <p>{{ isMain ? 'Раздел' : 'Подраздел' }}</p>\n            <my-input\n                v-model=\"newDivisions.name\"\n                placeholder=\"Регион....\"\n                v-focus\n            />\n            <my-input\n                v-model=\"newDivisions.count\"\n                placeholder=\"Количество....\"\n                type=\"number\"\n                v-on:keyup.enter=\"addDivisions\"\n            />\n            <my-button @click=\"addDivisions\">\n                Добавить раздел\n            </my-button>\n        </div>\n        <br>\n        <div v-if=\"isSave\">\n            <my-button @click=\"toggleCreate\">\n                {{ !isCreate ? '+' : '-' }} Добавить раздел\n            </my-button>\n            <my-button @click=\"setDivisions\">\n                Схранить\n            </my-button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport DivisionsCreateItem from \"./DivisionsCreateItem\";\n\nexport default {\n    name: \"divisions-create-list\",\n    components: {\n        DivisionsCreateItem\n    },\n    data() {\n        return {\n            isCreate: true,\n            isSave: false,\n            isMain: true,\n            divisions: [],\n            newDivisions: {\n                id: null,\n                name: '',\n                count: null,\n                children: []\n            },\n            newDivisionsChildren: {\n                id: null,\n                parent: null,\n                name: '',\n                count: null,\n                children: []\n            }\n        }\n    },\n    methods: {\n        addDivisions() {\n            if (this.newDivisions.name && this.newDivisions.count) {\n                this.newDivisions.id = new Date().getTime()\n\n                if (this.newDivisionsChildren.name) {\n                    this.newDivisionsChildren.children.push(this.newDivisions)\n                } else {\n                    this.divisions.push(this.newDivisions)\n                }\n\n                this.isSave = this.isMain = true\n                this.isCreate = false\n                this.newDivisions = {\n                    id: null,\n                    name: '',\n                    count: null,\n                    children: []\n                }\n                this.newDivisionsChildren = {\n                    id: null,\n                    parent: null,\n                    name: '',\n                    count: null,\n                    children: []\n                }\n            }\n        },\n        setDivisions() {\n            let divisions = this.divisions\n            this.$emit('addNewDivisions', divisions)\n        },\n        setDivision(event) {\n            this.isCreate = true\n            this.isMain = false\n            this.newDivisionsChildren = event\n        },\n        toggleCreate() {\n            this.isCreate = !this.isCreate\n            this.newDivisionsChildren = {\n                id: null,\n                parent: null,\n                name: '',\n                count: null,\n                children: []\n            }\n            this.isMain = true\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n    .create {\n        &__head {\n            li {\n                background: $background-block;\n                border-left: 1px solid $background;\n            }\n        }\n        &__body {\n            //background: #08348445;\n            background: rgba(0, 79, 255, 0.14);\n        }\n        input,\n        button {\n            margin-right: 30px;\n        }\n        p {\n            margin: 20px 0 5px;\n        }\n        ul {\n            display: flex;\n            flex-wrap: wrap;\n            justify-content: space-between;\n            li {\n                padding: 10px 20px;\n                &:nth-child(1) {\n                    width: 35%;\n                    border-left: none;\n                }\n                &:nth-child(2) {\n                    width: 35%;\n                }\n                &:nth-child(3) {\n                    width: 30%;\n                }\n            }\n        }\n    }\n</style>\n"]}]}