{"remainingRequest":"/Users/shakirov/Desktop/Новая папка/node_modules/babel-loader/lib/index.js!/Users/shakirov/Desktop/Новая папка/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/shakirov/Desktop/Новая папка/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/shakirov/Desktop/Новая папка/src/components/DivisionsItem.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/shakirov/Desktop/Новая папка/src/components/DivisionsItem.vue","mtime":1649261635087},{"path":"/Users/shakirov/Desktop/Новая папка/babel.config.js","mtime":1648522801080},{"path":"/Users/shakirov/Desktop/Новая папка/node_modules/cache-loader/dist/cjs.js","mtime":1648522787455},{"path":"/Users/shakirov/Desktop/Новая папка/node_modules/babel-loader/lib/index.js","mtime":1648522787952},{"path":"/Users/shakirov/Desktop/Новая папка/node_modules/cache-loader/dist/cjs.js","mtime":1648522787455},{"path":"/Users/shakirov/Desktop/Новая папка/node_modules/vue-loader-v16/dist/index.js","mtime":1648522787725}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nLmpzIjsKaW1wb3J0IERpdmlzaW9uc0l0ZW0gZnJvbSAiQC9jb21wb25lbnRzL0RpdmlzaW9uc0l0ZW0iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImRpdmlzaW9ucy1pdGVtIiwKICBjb21wb25lbnRzOiB7CiAgICBEaXZpc2lvbnNJdGVtOiBEaXZpc2lvbnNJdGVtCiAgfSwKICBwcm9wczogewogICAgZGl2aXNpb246IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9LAogICAgbGV2ZWw6IHsKICAgICAgdHlwZTogTnVtYmVyCiAgICB9LAogICAgaW5kZXg6IHsKICAgICAgdHlwZTogTnVtYmVyCiAgICB9LAogICAgcGFyZW50RGl2aXNpb246IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9LAogICAgcGFyZW50RGl2aXNpb25JZDogewogICAgICB0eXBlOiBOdW1iZXIKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0NyZWF0ZTogZmFsc2UsCiAgICAgIGlzU2hvdzogZmFsc2UsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBuZXdEaXZpc2lvbjogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmRpdmlzaW9uKSksCiAgICAgIGNvdW50RGl2aXNpb246IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5kaXZpc2lvbikpLAogICAgICBuZXdEaXZpc2lvbkNoaWxkcmVuOiB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgY291bnQ6IG51bGwsCiAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgIH0sCiAgICAgIHRvdGFsQ291bnQ6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDb3VudDogZnVuY3Rpb24gZ2V0Q291bnQoY291bnRDaGlsZHJlbikgewogICAgICB0aGlzLmNvdW50RGl2aXNpb24uY291bnQgPSBOdW1iZXIodGhpcy5jb3VudERpdmlzaW9uLmNvdW50KSArIGNvdW50Q2hpbGRyZW47CiAgICAgIHRoaXMuJGVtaXQoJ2dldENvdW50JywgY291bnRDaGlsZHJlbik7CiAgICB9LAogICAgc2V0Q291bnQ6IGZ1bmN0aW9uIHNldENvdW50KCkgewogICAgICB2YXIgc3VtID0gdGhpcy5jb3VudERpdmlzaW9uLmNoaWxkcmVuLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjdXJyKSB7CiAgICAgICAgcmV0dXJuIGFjYyArIE51bWJlcihjdXJyLmNvdW50KTsKICAgICAgfSwgMCk7CiAgICAgIHRoaXMudG90YWxDb3VudCA9IHN1bSArIE51bWJlcih0aGlzLmNvdW50RGl2aXNpb24uY291bnQpOwogICAgICB0aGlzLiRlbWl0KCdnZXRDb3VudCcsIHN1bSk7CiAgICB9LAogICAgcmVtb3ZlRGl2aXNpb246IGZ1bmN0aW9uIHJlbW92ZURpdmlzaW9uKCkgewogICAgICBpZiAodGhpcy5wYXJlbnREaXZpc2lvbiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5wYXJlbnREaXZpc2lvbi5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCwgMSk7CiAgICAgICAgdGhpcy51cGRhdGVEaXZpc2lvbigpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGVtaXQoInJlbW92ZURpdmlzaW9uIiwgdGhpcy5wYXJlbnREaXZpc2lvbklkKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZURpdmlzaW9uOiBmdW5jdGlvbiB1cGRhdGVEaXZpc2lvbigpIHsKICAgICAgaWYgKHRoaXMubmV3RGl2aXNpb25DaGlsZHJlbi5uYW1lLmxlbmd0aCAmJiB0aGlzLm5ld0RpdmlzaW9uQ2hpbGRyZW4uY291bnQubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5uZXdEaXZpc2lvbkNoaWxkcmVuLmlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgdGhpcy5uZXdEaXZpc2lvbi5jaGlsZHJlbi5wdXNoKHRoaXMubmV3RGl2aXNpb25DaGlsZHJlbik7CiAgICAgICAgdGhpcy5kaXZpc2lvbi5jaGlsZHJlbiA9IHRoaXMubmV3RGl2aXNpb24uY2hpbGRyZW47CiAgICAgIH0KCiAgICAgIHRoaXMuZGl2aXNpb24ubmFtZSA9IHRoaXMubmV3RGl2aXNpb24ubmFtZTsKICAgICAgdGhpcy5kaXZpc2lvbi5jb3VudCA9IHRoaXMubmV3RGl2aXNpb24uY291bnQ7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLiRlbWl0KCJ1cGRhdGVEaXZpc2lvbiIsIHRoaXMucGFyZW50RGl2aXNpb25JZCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zZXRDb3VudCgpOwogIH0KfTs="},{"version":3,"mappings":"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","names":["DivisionsItem","name","components","props","division","type","Object","level","Number","index","parentDivision","parentDivisionId","data","isCreate","isShow","dialogVisible","newDivision","JSON","parse","stringify","countDivision","newDivisionChildren","id","count","children","totalCount","methods","getCount","countChildren","$emit","setCount","sum","reduce","acc","curr","removeDivision","undefined","splice","updateDivision","length","Date","getTime","push","mounted"],"sourceRoot":"","sources":["/Users/shakirov/Desktop/Новая папка/src/components/DivisionsItem.vue"],"sourcesContent":["<template>\n    <li class=\"divisions__body\">\n        <ul class=\"division\">\n            <li @click=\"isShow = !isShow\">\n                <span :style=\"{ marginLeft: level * 30 + 'px' }\">\n                    <img\n                        src=\"../assets/icons/arrow.svg\"\n                        v-if=\"division.children.length\"\n                        class=\"arrow\"\n                        :class=\"{ 'arrow-active': isShow }\"\n                    />\n                    {{ division.name }}\n                </span>\n            </li>\n            <li>{{ totalCount }}</li>\n            <li>{{ division.count }}</li>\n            <li>\n                <my-button\n                    @click=\"removeDivision\"\n                    style=\"margin-right: 10px;\"\n                >\n                    Удалить\n                </my-button>\n                <my-button @click=\"dialogVisible = !dialogVisible\">\n                    Изменить\n                </my-button>\n            </li>\n        </ul>\n        <divisions-item\n            v-show=\"isShow\"\n            v-for=\"(children, subIndex) in division.children\"\n            :key=\"division.id\"\n            :division=\"children\"\n            :index=\"subIndex\"\n            :parentDivision=\"division\"\n            :parentDivisionId=\"parentDivisionId\"\n            :level=\"level + 1\"\n            @removeDivision=\"removeDivision\"\n            @updateDivision=\"updateDivision\"\n            @getCount=\"getCount\"\n        />\n        <teleport to=\"#modales\">\n            <my-dialog v-model:show=\"dialogVisible\" class=\"dialog-item\">\n                    <div v-if=\"!isCreate\">\n                        <my-input\n                            v-model=\"newDivision.name\"\n                            placeholder=\"Регион....\"\n                        />\n                        <my-input\n                            v-model=\"newDivision.count\"\n                            placeholder=\"Количество....\"\n                            type=\"number\"\n                            v-on:keyup.enter=\"updateDivision\"\n                            v-focus\n                        />\n                    </div>\n                    <div v-else>\n                        <my-input\n                            v-model=\"newDivisionChildren.name\"\n                            placeholder=\"Регион....\"\n                            v-focus\n                        />\n                        <my-input\n                            v-model=\"newDivisionChildren.count\"\n                            placeholder=\"Количество....\"\n                            type=\"number\"\n                            v-on:keyup.enter=\"updateDivision\"\n                        />\n                    </div>\n                    <my-button @click=\"isCreate = !isCreate\">\n                        {{ !isCreate ? 'Добавить подраздел' : 'Назад' }}\n                    </my-button>\n                    <my-button @click=\"updateDivision\">\n                        {{ !isCreate ? 'Изменить' : 'Добавить' }}\n                    </my-button>\n            </my-dialog>\n        </teleport>\n    </li>\n</template>\n\n<script>\nimport DivisionsItem from \"@/components/DivisionsItem\";\n\nexport default {\n    name: \"divisions-item\",\n    components: {\n        DivisionsItem\n    },\n    props: {\n        division: {\n            type: Object\n        },\n        level: {\n            type: Number\n        },\n        index: {\n            type: Number\n        },\n        parentDivision: {\n            type: Object\n        },\n        parentDivisionId: {\n            type: Number\n        }\n    },\n    data() {\n        return {\n            isCreate: false,\n            isShow: false,\n            dialogVisible: false,\n            newDivision: JSON.parse(JSON.stringify(this.division)),\n            countDivision: JSON.parse(JSON.stringify(this.division)),\n            newDivisionChildren: {\n                id: null,\n                name: '',\n                count: null,\n                children: []\n            },\n            totalCount: null,\n        }\n    },\n    methods: {\n        getCount(countChildren) {\n            this.countDivision.count = Number(this.countDivision.count) + countChildren\n            this.$emit('getCount',  countChildren)\n        },\n        setCount() {\n            const sum = this.countDivision.children.reduce((acc, curr) => {return acc + Number(curr.count);}, 0)\n            this.totalCount = sum + Number(this.countDivision.count)\n            this.$emit('getCount',  sum)\n        },\n        removeDivision() {\n            if (this.parentDivision !== undefined) {\n                this.parentDivision.children.splice(this.index, 1)\n                this.updateDivision()\n            } else {\n                this.$emit(\"removeDivision\", this.parentDivisionId)\n            }\n        },\n        updateDivision() {\n            if (this.newDivisionChildren.name.length && this.newDivisionChildren.count.length) {\n                this.newDivisionChildren.id = new Date().getTime()\n                this.newDivision.children.push(this.newDivisionChildren)\n                this.division.children = this.newDivision.children\n            }\n            this.division.name = this.newDivision.name\n            this.division.count = this.newDivision.count\n            this.dialogVisible = false\n            this.$emit(\"updateDivision\", this.parentDivisionId)\n        }\n    },\n    mounted() {\n        this.setCount()\n    }\n}\n</script>\n\n<style lang=\"scss\">\n    .division {\n        li:first-child {\n            cursor: pointer;\n            user-select: none;\n            transition: .2s;\n            opacity: 1;\n            &:hover {\n                opacity: .7;\n            }\n        }\n        span {\n            position: relative;\n            display: flex;\n            align-items: center;\n        }\n        .arrow {\n            width: 6px;\n            left: -10px;\n            position: absolute;\n            transform: rotate(0deg);\n            transition: .2s;\n            &-active{\n                transform: rotate(90deg);\n            }\n        }\n    }\n    .dialog-item {\n        button, input {\n            margin: 0 5px\n        }\n        .dialog__content {\n            min-height: auto !important;\n            min-width: auto !important;\n            display: flex;\n            align-items: center;\n        }\n    }\n</style>\n"]}]}